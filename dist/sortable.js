define("moe/sortable/0.0.1/sortable",[],function(a,b,c){var d,e=jQuery,f=e(),g=function(a){var b=String(a);return a=e.extend({connectWith:!1},a),this.each(function(){if(/^enable|disable|destroy$/.test(b)){var c=e(this).children(e(this).data("items")).attr("draggable","enable"==b);return"destroy"==b&&c.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"),void 0}var g,h,c=e(this).children(a.items),i=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');c.find(a.handle).mousedown(function(){g=!0}).mouseup(function(){g=!1}),e(this).data("items",a.items),f=f.add(i),a.connectWith&&e(a.connectWith).add(this).data("connectWith",a.connectWith),c.attr("draggable","true").on("dragstart.h5s",function(b){if(a.handle&&!g)return!1;g=!1;var c=b.originalEvent.dataTransfer;c.effectAllowed="move",c.setData("Text","dummy"),h=(d=e(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){d&&(d.removeClass("sortable-dragging").show(),f.detach(),h!=d.index()&&d.parent().trigger("sortupdate",{item:d}),d=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,i]).on("dragover.h5s dragenter.h5s drop.h5s",function(b){return c.is(d)||a.connectWith===e(d).parent().data("connectWith")?"drop"==b.type?(b.stopPropagation(),f.filter(":visible").after(d),d.trigger("dragend.h5s"),!1):(b.preventDefault(),b.originalEvent.dataTransfer.dropEffect="move",c.is(this)?(a.forcePlaceholderSize&&i.height(d.outerHeight()),d.hide(),e(this)[i.index()<e(this).index()?"after":"before"](i),f.not(i).detach()):f.is(this)||e(this).children(a.items).length||(f.detach(),e(this).append(i)),!1):!0})})},h=function(a){return g.call(e(a.target),a)};c.exports=h});
